(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[944],{1812:(e,a,r)=>{"use strict";r.d(a,{default:()=>n});var t=r(5155),l=r(2115),s=r(5695);function d(e){let{onFilter:a,initialFilters:r}=e,[s,d]=(0,l.useState)((null==r?void 0:r.make)||""),[n,i]=(0,l.useState)((null==r?void 0:r.year)||""),[o,c]=(0,l.useState)((null==r?void 0:r.minPrice)||""),[g,x]=(0,l.useState)((null==r?void 0:r.maxPrice)||""),[b,u]=(0,l.useState)((null==r?void 0:r.city)||"");return(0,l.useEffect)(()=>{r&&(d(r.make||""),i(r.year||""),c(r.minPrice||""),x(r.maxPrice||""),u(r.city||""))},[r]),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a({make:s,year:n,minPrice:o,maxPrice:g,city:b})},className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-md flex flex-wrap gap-4 items-end mb-6",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("label",{className:"text-gray-700 dark:text-gray-300 font-semibold",children:"Make"}),(0,t.jsx)("input",{type:"text",value:s,onChange:e=>d(e.target.value),placeholder:"All",className:"border border-gray-300 dark:border-gray-700 rounded px-3 py-1 dark:bg-gray-900 dark:text-white"})]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("label",{className:"text-gray-700 dark:text-gray-300 font-semibold",children:"Year"}),(0,t.jsx)("input",{type:"number",value:n,onChange:e=>i(e.target.value),placeholder:"All",className:"border border-gray-300 dark:border-gray-700 rounded px-3 py-1 dark:bg-gray-900 dark:text-white"})]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("label",{className:"text-gray-700 dark:text-gray-300 font-semibold",children:"Min Price"}),(0,t.jsx)("input",{type:"number",value:o,onChange:e=>c(e.target.value),placeholder:"All",className:"border border-gray-300 dark:border-gray-700 rounded px-3 py-1 dark:bg-gray-900 dark:text-white"})]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("label",{className:"text-gray-700 dark:text-gray-300 font-semibold",children:"Max Price"}),(0,t.jsx)("input",{type:"number",value:g,onChange:e=>x(e.target.value),placeholder:"All",className:"border border-gray-300 dark:border-gray-700 rounded px-3 py-1 dark:bg-gray-900 dark:text-white"})]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("label",{className:"text-gray-700 dark:text-gray-300 font-semibold",children:"City"}),(0,t.jsx)("input",{type:"text",value:b,onChange:e=>u(e.target.value),placeholder:"All",className:"border border-gray-300 dark:border-gray-700 rounded px-3 py-1 dark:bg-gray-900 dark:text-white"})]}),(0,t.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 dark:bg-black text-white rounded-lg font-semibold hover:bg-blue-700 dark:hover:bg-gray-700 transition",children:"Filter"})]})}function n(){let e=(0,s.useSearchParams)(),[a,r]=(0,l.useState)({make:e.get("make")||"",year:e.get("year")||"",minPrice:e.get("minPrice")||"",maxPrice:e.get("maxPrice")||"",city:e.get("city")||""}),[n,i]=(0,l.useState)([]),[o,c]=(0,l.useState)(1),[g,x]=(0,l.useState)(1),b=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=new URLSearchParams({...e,page:a.toString(),limit:"12"}).toString(),t=await fetch("/api/cars?".concat(r)),l=await t.json();i(l.cars),x(Math.ceil(l.total/12)),c(l.page)};return(0,l.useEffect)(()=>{b(a,o)},[a,o]),(0,t.jsxs)("div",{className:"p-8 font-sans bg-gray-50 dark:bg-gray-900 min-h-screen",children:[(0,t.jsx)(d,{onFilter:e=>{r(e),c(1)},initialFilters:a}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-4",children:[0===n.length&&(0,t.jsx)("p",{className:"text-gray-700 dark:text-gray-300 text-center col-span-full",children:"No cars found."}),n.map(e=>(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-blue-100 dark:border-blue-700 rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition p-6 flex flex-col justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2 text-blue-800 dark:text-blue-300",children:e.title}),(0,t.jsxs)("p",{className:"text-gray-700 dark:text-gray-300 mb-1",children:[e.year," ",e.make," ",e.model]}),(0,t.jsxs)("p",{className:"text-gray-700 dark:text-gray-300 mb-1",children:["Price: ",(0,t.jsxs)("span",{className:"text-blue-600 dark:text-blue-400",children:["$",e.price]})]}),(0,t.jsxs)("p",{className:"text-gray-700 dark:text-gray-300 mb-1",children:["Location: ",e.city,", ",e.state," | Odometer: ",e.odometer," km"]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[(0,t.jsx)("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300 rounded-full text-sm",children:e.transmission}),(0,t.jsx)("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300 rounded-full text-sm",children:e.fuel_type}),(0,t.jsx)("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300 rounded-full text-sm",children:e.condition})]})]}),(0,t.jsx)("a",{href:e.full_path,target:"_blank",rel:"noopener noreferrer",className:"mt-4 w-full text-center px-4 py-2 bg-blue-600 dark:bg-black text-white font-semibold rounded-lg hover:bg-blue-700 dark:hover:bg-gray-700 transition",children:"See Details"})]},e.id))]}),g>1&&(0,t.jsxs)("div",{className:"flex justify-center mt-8 gap-2",children:[(0,t.jsx)("button",{disabled:1===o,onClick:()=>c(o-1),className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 disabled:opacity-50",children:"Prev"}),Array.from({length:g},(e,a)=>(0,t.jsx)("button",{onClick:()=>c(a+1),className:"px-4 py-2 rounded-lg ".concat(o===a+1?"bg-blue-600 dark:bg-blue-400 text-white":"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600"),children:a+1},a+1)),(0,t.jsx)("button",{disabled:o===g,onClick:()=>c(o+1),className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 disabled:opacity-50",children:"Next"})]})]})}},5695:(e,a,r)=>{"use strict";var t=r(8999);r.o(t,"useRouter")&&r.d(a,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(a,{useSearchParams:function(){return t.useSearchParams}})},9386:(e,a,r)=>{Promise.resolve().then(r.bind(r,1812))}},e=>{e.O(0,[441,964,358],()=>e(e.s=9386)),_N_E=e.O()}]);